<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.0.0.final using JasperReports Library version 6.0.0  -->
<!-- 2015-12-16T10:46:44 -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="FIN31" language="groovy" pageWidth="1650" pageHeight="595" orientation="Landscape" columnWidth="1610" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" resourceBundle="locsmartsolution" uuid="43f81125-cdfb-41d3-8b26-2e35b09a4f9b">
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="natuurpunt_validatie"/>
	<property name="com.jaspersoft.studio.unit." value="pixel"/>
	<parameter name="all_comp" class="java.lang.Boolean">
		<defaultValueExpression><![CDATA[FALSE( )]]></defaultValueExpression>
	</parameter>
	<parameter name="man_period_id" class="java.lang.Integer"/>
	<parameter name="man_an_account_code" class="java.lang.String"/>
	<parameter name="man_company_id" class="java.lang.Integer"/>
	<parameter name="man_budget_id" class="java.lang.Integer"/>
	<parameter name="an_children" class="java.lang.Boolean">
		<defaultValueExpression><![CDATA[TRUE( )]]></defaultValueExpression>
	</parameter>
	<parameter name="man_to_period_id" class="java.lang.Integer"/>
	<parameter name="p_en_l" class="java.lang.Boolean">
		<defaultValueExpression><![CDATA[TRUE( )]]></defaultValueExpression>
	</parameter>
	<parameter name="fiscalyear_opt" class="java.lang.Integer"/>
	<queryString language="SQL">
		<![CDATA[(
select
	'1' as line_type,
	res_company.name as company_name,
	cb.code as budgetcode,
	'[' || trim(both from aaa.code) || '] ' || trim(both from aaa.name) as an_account,
	abt.name as budgettype,
	cbc.name as budget_company,
	'[' || trim(both from abp.code) || '] ' || trim(both from abp.name) as budget_pos,
	'' as account,
	cbl.date_from as start_date,
	cbl.date_to as end_date,
	case 
		when cbl.date_from > ap_start.date_start
		then cbl.date_from
		else ap_start.date_start
	end as start_theor,
	case
		when cbl.date_to < ap_end.date_stop
		then cbl.date_to
		else ap_end.date_stop
	end as end_theor,
	'' as period,
	cbl.planned_amount as budget_amt,
	cbl.planned_amount * ((case when cbl.date_to < ap_end.date_stop then cbl.date_to	else ap_end.date_stop end) - 
		(case when cbl.date_from > ap_start.date_start then cbl.date_from else ap_start.date_start end) + 1) /
		((cbl.date_to - cbl.date_from) + 1) as theor_amt,
	0 as act_amt,
	cast('1900-01-01' as date) as ap_date_end
from
	res_company
	inner join crossovered_budget cb on cb.id = $P{man_budget_id}
	inner join res_company cbc on cbc.id = cb.company_id
	inner join crossovered_budget_lines cbl on cbl.crossovered_budget_id = cb.id
	inner join account_analytic_account aaa on aaa.id = cbl.analytic_account_id
	inner join account_budget_post abp on abp.id = cbl.general_budget_id
	inner join account_period ap_start on ap_start.id = $P{man_period_id}
	inner join account_period ap_end on ap_end.id = $P{man_to_period_id}
	left outer join account_budget_type abt on abt.id = abp.budget_type_id
where
	res_company.id = $P{man_company_id}
	and
	(
      	$P{all_comp}
      	or
      	(not($P{all_comp}) and cb.company_id = res_company.id)
	)
	and
	cbl.date_from <= ap_end.date_stop and cbl.date_to >= ap_start.date_start
	and 
	(
		(
			$P{an_children} 
			AND
			(
				aaa.id in 
					( WITH RECURSIVE q AS
   						(
							SELECT h, 1 AS niv, ARRAY[h.code] AS breadcrumb, res_company.name as company_name,
							res_company.id as company_id
							FROM  account_analytic_account h
							INNER JOIN res_company on res_company.id = h.company_id
							WHERE
								h.code = $P{man_an_account_code}
								and
								(
									$P{all_comp}
									or
									(not($P{all_comp}) and res_company.id = $P{man_company_id})
								)
							UNION ALL
							SELECT  hi, q.niv + 1 AS niv, breadcrumb || hi.code AS breadcrumb, res_company.name as company_name,
							res_company.id as company_id
							FROM q
							INNER JOIN account_analytic_account hi ON hi.parent_id = (q.h).id
							INNER JOIN res_company on res_company.id = hi.company_id
						)
						SELECT
						   (q.h).id as id
							FROM    q
							ORDER BY
							id
					)
			)
		)
      	or
      	(
			NOT($P{an_children})
			AND
			(
	      		aaa.code = $P{man_an_account_code}
				and
				(
					$P{all_comp}
					or
					(not($P{all_comp}) and aaa.company_id = res_company.id)
				)
			)
      	)
	)
)
UNION ALL
(
select
	'2' as line_type,
	res_company.name as company_name,
	cb1.code as budgetcode,
	'[' || trim(both from aaa.code) || '] ' || trim(both from aaa.name) as an_account,
	abt.name as budgettype,
	cbc.name as budget_company,
	'[' || trim(both from abp.code) || '] ' || trim(both from abp.name) as budget_pos,
	aa.code as account,
	(select min(cbl.date_from) from crossovered_budget_lines cbl
	                       inner join crossovered_budget cb on cb.id = cbl.crossovered_budget_id
	                       where cbl.general_budget_id = abp.id 
				and cbl.date_from <= ap_end.date_stop 
				and cbl.date_to >= ap_start.date_start
				and cb.id = $P{man_budget_id}
			       group by cbl.general_budget_id) as start_date,
	(select max(cbl.date_to) from crossovered_budget_lines cbl
	                       inner join crossovered_budget cb on cb.id = cbl.crossovered_budget_id
	                       where cbl.general_budget_id = abp.id 
				and cbl.date_from <= ap_end.date_stop 
				and cbl.date_to >= ap_start.date_start
				and cb.id = $P{man_budget_id}
			       group by cbl.general_budget_id) as start_date,
	case 
		when (select min(cbl.date_from) from crossovered_budget_lines cbl
	                       inner join crossovered_budget cb on cb.id = cbl.crossovered_budget_id
	                       where cbl.general_budget_id = abp.id 
				and cbl.date_from <= ap_end.date_stop 
				and cbl.date_to >= ap_start.date_start
				and cb.id = $P{man_budget_id}
			       group by cbl.general_budget_id) > ap_start.date_start
		then (select min(cbl.date_from) from crossovered_budget_lines cbl
	                       inner join crossovered_budget cb on cb.id = cbl.crossovered_budget_id
	                       where cbl.general_budget_id = abp.id 
				and cbl.date_from <= ap_end.date_stop 
				and cbl.date_to >= ap_start.date_start
				and cb.id = $P{man_budget_id}
			       group by cbl.general_budget_id)
		else ap_start.date_start
	end as start_theor,
	case
		when (select max(cbl.date_to) from crossovered_budget_lines cbl
	                       inner join crossovered_budget cb on cb.id = cbl.crossovered_budget_id
	                       where cbl.general_budget_id = abp.id 
				and cbl.date_from <= ap_end.date_stop 
				and cbl.date_to >= ap_start.date_start
				and cb.id = $P{man_budget_id}
			       group by cbl.general_budget_id) < ap_end.date_stop
		then (select max(cbl.date_to) from crossovered_budget_lines cbl
	                       inner join crossovered_budget cb on cb.id = cbl.crossovered_budget_id
	                       where cbl.general_budget_id = abp.id 
							and cbl.date_from <= ap_end.date_stop 
							and cbl.date_to >= ap_start.date_start
							and cb.id = $P{man_budget_id}
			      			 group by cbl.general_budget_id)
		else ap_end.date_stop
	end as end_theor,
	ap.code as period,
	0 as budget_amt,
	0 as theor_amt,
	aal.amount as act_amt,
	ap.date_stop as ap_date_end
from
	account_analytic_account aaa
	inner join res_company on res_company.id = $P{man_company_id}
	inner join crossovered_budget cb1 on cb1.id= $P{man_budget_id}
	inner join account_analytic_line aal on aal.account_id = aaa.id
	inner join account_move_line aml on aml.id = aal.move_id
	inner join res_company cbc on cbc.id = aml.company_id
	inner join account_period ap_start on ap_start.id = $P{man_period_id}
	inner join account_period ap_end on ap_end.id = $P{man_to_period_id}
	inner join account_period ap on ap.id = aal.period_id
	inner join account_account aa on aa.id = aal.general_account_id
	inner join account_account_type aat on aat.id = aa.user_type
	left outer join account_budget_rel abr on abr.account_id = aal.general_account_id
	left outer join account_budget_post abp on abp.id = abr.budget_id
	left outer join account_budget_type abt on abt.id = abp.budget_type_id
where
	(
		(
			$P{an_children} 
			AND
			(
				aaa.id in 
					( WITH RECURSIVE q AS
   						(
							SELECT h, 1 AS niv, ARRAY[h.code] AS breadcrumb, res_company.name as company_name,
							res_company.id as company_id 
							FROM  account_analytic_account h
							INNER JOIN res_company on res_company.id = h.company_id
							WHERE
								h.code = $P{man_an_account_code}
								and
								(
									$P{all_comp}
									or
									(not($P{all_comp}) and res_company.id = $P{man_company_id})
								)
							UNION ALL
							SELECT  hi, q.niv + 1 AS niv, breadcrumb || hi.code AS breadcrumb, res_company.name as company_name,
							res_company.id as company_id
							FROM q
							INNER JOIN account_analytic_account hi ON hi.parent_id = (q.h).id
							INNER JOIN res_company on res_company.id = hi.company_id
						)
						SELECT
						   (q.h).id as id
							FROM    q
							ORDER BY
							id
					)
			)
		)
      	or
      	(
			NOT($P{an_children})
			AND
			(
	      		aaa.code = $P{man_an_account_code}
				and
				(
					$P{all_comp}
					or
					(not($P{all_comp}) and aaa.company_id = res_company.id)
				)
			)
      	)
	)
	and
	(
		not($P{p_en_l})
		or
		($P{p_en_l} and aat.report_type in ('income','expense'))
	)
	and
	(
		ap.date_start >= ap_start.date_start 
		and 
		ap.date_stop <= ap_end.date_stop
		and
		ap.special = 'False'	
	)
)
order by budget_company, an_account, budgettype, line_type, budgetcode, budget_pos, account, end_date, ap_date_end]]>
	</queryString>
	<field name="budget_amt" class="java.math.BigDecimal"/>
	<field name="theor_amt" class="java.math.BigDecimal"/>
	<field name="company_name" class="java.lang.String"/>
	<field name="line_type" class="java.lang.String"/>
	<field name="budgetcode" class="java.lang.String"/>
	<field name="an_account" class="java.lang.String"/>
	<field name="budget_company" class="java.lang.String"/>
	<field name="budget_pos" class="java.lang.String"/>
	<field name="account" class="java.lang.String"/>
	<field name="start_date" class="java.sql.Date"/>
	<field name="end_date" class="java.sql.Date"/>
	<field name="start_theor" class="java.sql.Date"/>
	<field name="end_theor" class="java.sql.Date"/>
	<field name="period" class="java.lang.String"/>
	<field name="act_amt" class="java.math.BigDecimal"/>
	<field name="budgettype" class="java.lang.String"/>
	<variable name="budget_budget" class="java.math.BigDecimal" resetType="Group" resetGroup="budget" calculation="Sum">
		<variableExpression><![CDATA[$F{budget_amt}]]></variableExpression>
	</variable>
	<variable name="theor_budget" class="java.math.BigDecimal" resetType="Group" resetGroup="budget" calculation="Sum">
		<variableExpression><![CDATA[$F{theor_amt}]]></variableExpression>
	</variable>
	<variable name="act_budget_pos" class="java.math.BigDecimal" resetType="Group" resetGroup="budget_pos" calculation="Sum">
		<variableExpression><![CDATA[$F{act_amt}]]></variableExpression>
	</variable>
	<variable name="act_period" class="java.math.BigDecimal" resetType="Group" resetGroup="period" calculation="Sum">
		<variableExpression><![CDATA[$F{act_amt}]]></variableExpression>
	</variable>
	<variable name="act_budget" class="java.math.BigDecimal" resetType="Group" resetGroup="budget" calculation="Sum">
		<variableExpression><![CDATA[$F{act_amt}]]></variableExpression>
	</variable>
	<variable name="act_an_account" class="java.math.BigDecimal" resetType="Group" resetGroup="an_account" calculation="Sum">
		<variableExpression><![CDATA[$F{act_amt}]]></variableExpression>
	</variable>
	<variable name="theor_proc_budget" class="java.math.BigDecimal" resetType="Group" resetGroup="budget">
		<variableExpression><![CDATA[OR($V{theor_budget} == 0,$V{theor_budget} == null) ? null : ($V{act_budget} / $V{theor_budget})]]></variableExpression>
	</variable>
	<variable name="theor_proc_an_account" class="java.math.BigDecimal" resetType="Group" resetGroup="an_account">
		<variableExpression><![CDATA[OR($V{theor_an_account} == 0,$V{theor_an_account} == null) ? null : ($V{act_an_account} / $V{theor_an_account})]]></variableExpression>
	</variable>
	<variable name="theor_proc_budget_pos" class="java.math.BigDecimal" resetType="Group" resetGroup="budget_pos">
		<variableExpression><![CDATA[OR($V{theor_budget_pos} == 0,$V{theor_budget_pos} == null) ? null : ($V{act_budget_pos} / $V{theor_budget_pos})]]></variableExpression>
	</variable>
	<variable name="budget_budget_pos" class="java.math.BigDecimal" resetType="Group" resetGroup="budget_pos" calculation="Sum">
		<variableExpression><![CDATA[$F{budget_amt}]]></variableExpression>
	</variable>
	<variable name="theor_budget_pos" class="java.math.BigDecimal" resetType="Group" resetGroup="budget_pos" calculation="Sum">
		<variableExpression><![CDATA[$F{theor_amt}]]></variableExpression>
	</variable>
	<variable name="budget_an_account" class="java.math.BigDecimal" resetType="Group" resetGroup="an_account" calculation="Sum">
		<variableExpression><![CDATA[$F{budget_amt}]]></variableExpression>
	</variable>
	<variable name="theor_an_account" class="java.math.BigDecimal" resetType="Group" resetGroup="an_account" calculation="Sum">
		<variableExpression><![CDATA[$F{theor_amt}]]></variableExpression>
	</variable>
	<variable name="act_proc_budget" class="java.math.BigDecimal" resetType="Group" resetGroup="budget">
		<variableExpression><![CDATA[OR($V{budget_budget} == 0,$V{budget_budget} == null) ? null : ($V{act_budget} / $V{budget_budget})]]></variableExpression>
	</variable>
	<variable name="act_proc_an_account" class="java.math.BigDecimal" resetType="Group" resetGroup="an_account">
		<variableExpression><![CDATA[OR($V{budget_an_account} == 0,$V{budget_an_account} == null) ? null : ($V{act_an_account} / $V{budget_an_account})]]></variableExpression>
	</variable>
	<variable name="act_proc_budget_pos" class="java.math.BigDecimal" resetType="Group" resetGroup="budget_pos">
		<variableExpression><![CDATA[OR($V{budget_budget_pos} == 0,$V{budget_budget_pos} == null) ? null : ($V{act_budget_pos} / $V{budget_budget_pos})]]></variableExpression>
	</variable>
	<group name="budget">
		<groupExpression><![CDATA[$F{budgetcode}]]></groupExpression>
	</group>
	<group name="budget_comp">
		<groupExpression><![CDATA[$F{budget_company}]]></groupExpression>
		<groupFooter>
			<band>
				<property name="local_mesure_unitheight" value="pixel"/>
				<property name="com.jaspersoft.studio.unit.height" value="px"/>
			</band>
		</groupFooter>
	</group>
	<group name="an_account">
		<groupExpression><![CDATA[$F{an_account}]]></groupExpression>
	</group>
	<group name="budget_pos">
		<groupExpression><![CDATA[$F{budget_pos}]]></groupExpression>
	</group>
	<group name="account">
		<groupExpression><![CDATA[$F{account}]]></groupExpression>
		<groupFooter>
			<band>
				<property name="local_mesure_unitheight" value="pixel"/>
				<property name="com.jaspersoft.studio.unit.height" value="px"/>
			</band>
		</groupFooter>
	</group>
	<group name="period">
		<groupExpression><![CDATA[$F{period}]]></groupExpression>
		<groupFooter>
			<band height="12" splitType="Stretch">
				<property name="local_mesure_unitheight" value="pixel"/>
				<property name="com.jaspersoft.studio.unit.height" value="px"/>
				<printWhenExpression><![CDATA[$F{line_type} > "1"]]></printWhenExpression>
				<textField isBlankWhenNull="true">
					<reportElement x="620" y="0" width="250" height="12" forecolor="#000000" uuid="2123e495-2a52-45af-af4e-4adcdc74e3d9">
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
						<property name="local_mesure_unitx" value="pixel"/>
						<property name="com.jaspersoft.studio.unit.x" value="px"/>
						<property name="local_mesure_unitwidth" value="pixel"/>
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
						<property name="local_mesure_unitheight" value="pixel"/>
					</reportElement>
					<box leftPadding="2"/>
					<textElement verticalAlignment="Middle">
						<font fontName="Arial" size="10"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{budget_pos}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement x="1160" y="0" width="70" height="12" uuid="36c58653-1c11-4a8d-af5b-c3bf742be870">
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
						<property name="local_mesure_unitx" value="pixel"/>
						<property name="com.jaspersoft.studio.unit.x" value="px"/>
						<property name="local_mesure_unitwidth" value="pixel"/>
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
					</reportElement>
					<textElement verticalAlignment="Middle">
						<font fontName="Arial" size="10"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{period}]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="70" y="0" width="250" height="12" uuid="063acf0d-38a5-4334-9005-f807a88401c1">
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
						<property name="local_mesure_unitheight" value="pixel"/>
						<property name="local_mesure_unitx" value="pixel"/>
						<property name="com.jaspersoft.studio.unit.x" value="px"/>
						<property name="local_mesure_unitwidth" value="pixel"/>
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
					</reportElement>
					<textElement verticalAlignment="Middle">
						<font fontName="Arial" size="10"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{budget_company}]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="0" y="0" width="20" height="12" uuid="0c9cd6e3-ad83-459b-9c2e-fa52849e97fb">
						<property name="local_mesure_unitheight" value="pixel"/>
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
						<property name="local_mesure_unitwidth" value="pixel"/>
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
					</reportElement>
					<textElement verticalAlignment="Middle">
						<font fontName="Arial" size="10"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{line_type} == "1" ? "B" : "A"]]></textFieldExpression>
				</textField>
				<textField pattern="#,##0.00;-#,##0.00">
					<reportElement mode="Transparent" x="1370" y="0" width="70" height="12" forecolor="#000000" uuid="8a23ba2f-c514-4012-a730-e33af18c9047">
						<property name="local_mesure_unitwidth" value="pixel"/>
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
						<property name="com.jaspersoft.studio.unit.x" value="px"/>
						<property name="local_mesure_unitx" value="pixel"/>
					</reportElement>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font fontName="Arial" size="10" isItalic="false"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{act_period}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement x="870" y="0" width="50" height="12" isRemoveLineWhenBlank="true" uuid="8537cc03-f6e4-4477-a48a-79eed0bfdae6">
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
						<property name="local_mesure_unitwidth" value="pixel"/>
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
						<property name="local_mesure_unitx" value="pixel"/>
						<property name="com.jaspersoft.studio.unit.x" value="px"/>
					</reportElement>
					<textElement verticalAlignment="Middle">
						<font fontName="Arial" size="10"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{account}]]></textFieldExpression>
				</textField>
				<textField pattern="dd/MM/yyyy">
					<reportElement x="320" y="0" width="250" height="12" uuid="97fbc383-2680-48c0-af5e-0e935651641e">
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
						<property name="local_mesure_unitwidth" value="pixel"/>
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
						<property name="local_mesure_unitx" value="pixel"/>
						<property name="com.jaspersoft.studio.unit.x" value="px"/>
					</reportElement>
					<textElement verticalAlignment="Middle">
						<font fontName="Arial" size="10"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{an_account}]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="20" y="0" width="50" height="12" uuid="d16f8c96-88b5-4dcd-930d-b67b32f5fa0b">
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
						<property name="local_mesure_unitwidth" value="pixel"/>
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
						<property name="local_mesure_unitx" value="pixel"/>
						<property name="com.jaspersoft.studio.unit.x" value="px"/>
					</reportElement>
					<textElement verticalAlignment="Middle">
						<font fontName="Arial" size="10"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{budgetcode}]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="570" y="0" width="50" height="12" uuid="95792022-d582-437e-9cc6-a490899cd1c6">
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
						<property name="local_mesure_unitwidth" value="pixel"/>
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
						<property name="local_mesure_unitx" value="pixel"/>
						<property name="com.jaspersoft.studio.unit.x" value="px"/>
						<property name="local_mesure_unity" value="pixel"/>
						<property name="com.jaspersoft.studio.unit.y" value="px"/>
					</reportElement>
					<textElement verticalAlignment="Middle">
						<font fontName="Arial" size="10"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{budgettype}]]></textFieldExpression>
				</textField>
			</band>
		</groupFooter>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<pageHeader>
		<band height="12" splitType="Stretch">
			<property name="local_mesure_unitheight" value="pixel"/>
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
			<textField>
				<reportElement x="1300" y="0" width="70" height="12" uuid="28256b63-f568-45ec-8637-0cfb5b5c2fe7">
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="local_mesure_unity" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="local_mesure_unitx" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
				</reportElement>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$R{FIN.theoretical}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="70" y="0" width="250" height="12" uuid="a3d63629-509a-4b2e-8027-447ef4208cc7">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="local_mesure_unitx" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$R{FIN.companyName}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="0" y="0" width="20" height="12" uuid="52f277c7-a540-432e-a47e-ae66294af028">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$R{FIN.type}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00;-#,##0.00">
				<reportElement x="1230" y="0" width="70" height="12" forecolor="#000000" uuid="28256b63-f568-45ec-8637-0cfb5b5c2fe7">
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="local_mesure_unitx" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
				</reportElement>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="10" isItalic="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$R{FIN.budget}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="20" y="0" width="50" height="12" uuid="1b2d5627-c25a-44e3-99bd-e03aa6535668">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="local_mesure_unitx" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
				</reportElement>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$R{FIN.budget}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="920" y="0" width="60" height="12" uuid="09d2158e-4a3f-4f1a-868e-70ef589281d3">
					<property name="local_mesure_unity" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="local_mesure_unitx" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$R{FIN.dateFrom}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="620" y="0" width="250" height="12" uuid="c7867c4a-3d81-4326-bc5d-d40b0a7eb705">
					<property name="local_mesure_unity" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="local_mesure_unitx" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
				</reportElement>
				<box leftPadding="2"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$R{FIN.budgetPos}]]></textFieldExpression>
			</textField>
			<textField pattern="dd/MM/yyyy">
				<reportElement x="320" y="0" width="250" height="12" uuid="8a8353eb-41f2-42f4-862a-fa8996c22298">
					<property name="local_mesure_unity" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="local_mesure_unitx" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
				</reportElement>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="Arial" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$R{FIN.anaccountLong}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="870" y="0" width="50" height="12" uuid="6477f137-da12-4215-99b7-d0724844e132">
					<property name="local_mesure_unity" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="local_mesure_unitx" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
				</reportElement>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$R{FIN.account}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00;-#,##0.00">
				<reportElement x="1370" y="0" width="70" height="12" uuid="8c82fbf0-a359-425b-b9f0-111cd9c897ab">
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="local_mesure_unity" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="local_mesure_unitx" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
				</reportElement>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$R{FIN.actual}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="980" y="0" width="60" height="12" uuid="0a735425-d06a-4265-ace4-3d13f7863bc8">
					<property name="local_mesure_unity" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="local_mesure_unitx" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$R{FIN.dateTo}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="1040" y="0" width="60" height="12" uuid="27f2f0e7-94f2-4268-950f-ee13d23b356a">
					<property name="local_mesure_unity" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="local_mesure_unitx" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$R{FIN.dateFromTheor}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="1110" y="0" width="60" height="12" uuid="d719d8ac-b3e6-45ba-8413-fc58ab13f7e9">
					<property name="local_mesure_unity" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="local_mesure_unitx" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$R{FIN.dateToTheor}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="1160" y="0" width="70" height="12" uuid="e21d66e2-f2bf-42b8-8a4f-daa1fdf13559">
					<property name="local_mesure_unity" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="local_mesure_unitx" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$R{FIN.period}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="570" y="0" width="50" height="12" uuid="b203b84f-7c40-4c0e-a4da-b4aee0e6a89d">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="local_mesure_unitx" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
				</reportElement>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$R{FIN.budgetType}]]></textFieldExpression>
			</textField>
		</band>
	</pageHeader>
	<columnHeader>
		<band splitType="Stretch"/>
	</columnHeader>
	<detail>
		<band height="12" splitType="Stretch">
			<property name="local_mesure_unitheight" value="pixel"/>
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
			<printWhenExpression><![CDATA[$F{line_type} == "1"]]></printWhenExpression>
			<textField>
				<reportElement x="70" y="0" width="250" height="12" uuid="a3d63629-509a-4b2e-8027-447ef4208cc7">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="local_mesure_unitx" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{budget_company}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00;-#,##0.00">
				<reportElement x="1230" y="0" width="70" height="12" forecolor="#000000" uuid="28256b63-f568-45ec-8637-0cfb5b5c2fe7">
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="local_mesure_unitx" value="pixel"/>
				</reportElement>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="10" isItalic="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{budget_amt}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="dd/MM/yyyy" isBlankWhenNull="true">
				<reportElement x="920" y="0" width="60" height="12" uuid="97ea9d53-3d8c-4f78-b220-280e08c7dfb6">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="local_mesure_unitx" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{start_date}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00;-#,##0.00">
				<reportElement x="1300" y="0" width="70" height="12" uuid="28256b63-f568-45ec-8637-0cfb5b5c2fe7">
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="local_mesure_unitx" value="pixel"/>
				</reportElement>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{theor_amt}]]></textFieldExpression>
			</textField>
			<textField pattern="dd/MM/yyyy">
				<reportElement x="320" y="0" width="250" height="12" uuid="d5ed7b3d-db0a-424f-a719-150b9747420c">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="local_mesure_unitx" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
				</reportElement>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{an_account}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="20" y="0" width="50" height="12" uuid="b972dc87-d564-4d40-86e7-ec23f8d8b667">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="local_mesure_unitx" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
				</reportElement>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{budgetcode}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="620" y="0" width="250" height="12" forecolor="#000000" uuid="0c370b05-9a07-4702-8199-9be2fbe15241">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="local_mesure_unitx" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<box leftPadding="2"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{budget_pos}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement x="870" y="0" width="50" height="12" isRemoveLineWhenBlank="true" uuid="d852e417-762b-447f-b1dc-8d8bcad15b51">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="local_mesure_unitx" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
				</reportElement>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{account}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="0" y="0" width="20" height="12" uuid="7d49782e-1af3-4270-8323-ec61ca9f789a">
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{line_type} == "1" ? "B" : "A"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="dd/MM/yyyy" isBlankWhenNull="true">
				<reportElement x="980" y="0" width="60" height="12" uuid="030d8b8f-e016-4b7e-9141-bd10c6f0f809">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="local_mesure_unitx" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{end_date}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="dd/MM/yyyy" isBlankWhenNull="true">
				<reportElement x="1040" y="0" width="60" height="12" uuid="d27f72b7-f7e9-422e-8208-254c26cb747d">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="local_mesure_unitx" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{start_theor}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="dd/MM/yyyy" isBlankWhenNull="true">
				<reportElement x="1110" y="0" width="60" height="12" uuid="7d2e5c5e-9788-49a0-99e9-66b846c52f64">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="local_mesure_unitx" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{end_theor}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="570" y="0" width="50" height="12" uuid="9dfb4bd2-a3a6-4542-8e19-18f57e0f9f9f">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="local_mesure_unitx" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="local_mesure_unity" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{budgettype}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band splitType="Stretch"/>
	</columnFooter>
	<summary>
		<band splitType="Stretch">
			<property name="local_mesure_unitheight" value="pixel"/>
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
		</band>
	</summary>
</jasperReport>
